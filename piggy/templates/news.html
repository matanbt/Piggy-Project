{%extends "layout.html"%}
{%block title%}NEWS{%endblock%}

{%block head%}
<style id="style_css_sheet" type="text/css">

    /* <!-- Done up to row 1708 -->
     * Below are Cascading Style Sheet (CSS) definitions in use in this file,
     * which allow easily changing how countries are displayed.
     *
     * The styles are applied in the order in which they are defined (and re-defined) here in the preamble.
     */

    /*
     * Circles around small countries and territories
     *
     * Change opacity to 1 to display all circles
     */
    .circlexx {
        opacity: 0;
        fill: #c0c0c0;
        stroke: #000000;
        stroke-width: 0.5;
    }

    /*
     * Smaller circles around subnational territories: Australian external territories, Chinese SARs, Dutch special municipalities, and French DOMs (overseas regions/departments) [but not French COMs (overseas collectivities)]
     *
     * Change opacity to 1 to display all circles
     */
    .subxx {
        opacity: 0;
        fill: #c0c0c0;
        stroke: #000000;
        stroke-width: 0.3;
    }


    /*
     * Land
     * (all land, as opposed to water, should belong to this class; in order to modify the coastline for land pieces with no borders on them a special class "coastxx" has been added below)
     */
    .landxx {
        fill: #c0c0c0;
        stroke: #ffffff;
        stroke-width: 0.5;
        fill-rule: evenodd;
    }

    /*
     * Styles for coastlines of islands and continents with no borders on them
     * (all of them should also belong to the class "landxx" - to allow for all land to be modified at once by refining "landxx" style's definition further down)
     */
    .coastxx {
        stroke-width: 0.2;
    }


    /*
     * Styles for territories without permanent population (the largest of which is Antarctica)
     *
     * Change opacity to 0 to hide all territories
     */
    .antxx {
        opacity: 1;
        fill: #c0c0c0;
    }

    /*
     * Circles around small countries without permanent population
     *
     * Change opacity to 1 to display all circles
     */
    .noxx {
        opacity: 0;
        fill: #c0c0c0;
        stroke: #000000;
        stroke-width: 0.5;
    }


    /*
     * Styles for territories with limited or no recognition
     * (all of them - including Taiwan - are overlays (i.e. duplicate layers) over their "host" countries, and so not showing them doesn't leave any gaps on the map)
     *
     * Change opacity to 1 to display all territories
     */
    .limitxx {
        opacity: 0;
        fill: #c0c0c0;
        stroke: #ffffff;
        stroke-width: 0.2;
        fill-rule: evenodd;
    }

    /*
     * Smaller circles around small territories with limited or no recognition
     *
     * Change opacity to 1 to display all circles
     */
    .unxx {
        opacity: 0;
        fill: #c0c0c0;
        stroke: #000000;
        stroke-width: 0.3;
    }


    /*
     * Oceans, seas, and large lakes
     */
    .oceanxx {
        opacity: 1;
        fill: #ffffff;
        stroke: #000000;
        stroke-width: 0.5;
    }

    /*
     * Reserved class names:
     *
     * .eu - for members of European Union
     * .eaeu - for members of Eurasian Economic Union
     */
    /*@formatter:off*/
    {{countries_lst | safe}}
    {
        opacity: 1;
        fill: #ff7700;
    }
    /*@formatter:on*/

</style>

<script src="{{url_for('static',filename='svg-inject.min.js')}}"></script>
{%endblock%}

{%block content%}
<div class="border-bottom">
    <h2>World News</h2>
    <h5>Last Updated On {{last_updated.strftime("%d/%m/%y %H:%M")}}</h5>

    {%for c in range(3)%}
    <div class="row align-items-center border-bottom">
        <div class="col-3">
            <h3>{{df_tuple[c]['Channel'][0]}}</h3>
        </div>
        <div class="col-9" align="left">
            <ul>
                {%for i,row in df_tuple[c].iterrows()%}
                <li>
                    {{row['Title']}}
                </li>
                {%endfor%}
            </ul>
        </div>
    </div>
    {%endfor%}


    <p></p>
    <h2>Map The News</h2>
    <div class="row align-items-center">
        <div class="col-9">
            <img src="{{url_for('static',filename='map.svg')}}" width="90%" onload="SVGInject(this)"/>
        </div>
        <div class="col-3">
            <ul class="list-group">
                {%for c in countries_names%}
                <li class="list-group-item" style="color: #ff7700; font-weight: bold;">
                    {{c.title()}}
                </li>
                {%endfor%}
            </ul>
        </div>
    </div>
</div>
{%endblock%}